{
   "owner": null,
   "codePut": "DECLARE\r\n    v_grade   VARCHAR2 (100);\r\nBEGIN\r\n    p_ban_debug (\r\n        p_parm   => 'PBCRLISTED-DELETE'\r\n       ,p_text   => :id || '-' || :SFRSTCR_LAST_ATTEND || '-' || :FINALG\r\n       ,p_size   => 250\r\n       ,p_user   => USER\r\n       ,p_htp    => 'N'\r\n       ,p_dbms   => 'N'\r\n       ,p_clob   => NULL\r\n       ,p_mail   => NULL);\r\n\r\n    DELETE gurdbug\r\n     WHERE gurdbug_parm LIKE '%PBCRLISTED%';\r\n\r\n    p_ban_debug (\r\n        p_parm   => 'PBCRLISTED-grade'\r\n       ,p_text   => :id || '-' || :SFRSTCR_LAST_ATTEND || '-' || :FINALG\r\n       ,p_size   => 250\r\n       ,p_user   => USER\r\n       ,p_htp    => 'N'\r\n       ,p_dbms   => 'N'\r\n       ,p_clob   => NULL\r\n       ,p_mail   => NULL);\r\n\r\n    SELECT G.SHRGRDE_CODE\r\n      INTO v_grade\r\n      FROM SVQ_GRADE_COURSE_WEBMODE G, SSBSECT, sfrstcr x\r\n     WHERE     G.SCRGMOD_CRSE_NUMB = ssbsect_crse_numb\r\n           AND G.SCRGMOD_SUBJ_CODE = ssbsect_subj_code\r\n           AND G.SHRGRDE_LEVL_CODE = x.sfrstcr_levl_code\r\n           AND G.STVTERM_CODE = x.SFRSTCR_TERM_CODE\r\n           AND G.SCRGMOD_GMOD_CODE = x.sfrstcr_gmod_code\r\n           AND SSBSECT_TERM_CODE = x.SFRSTCR_TERM_CODE\r\n           AND SSBSECT_CRN = x.SFRSTCR_CRN\r\n           and G.SHRGRDE_CODE = :FINALG\r\n           AND x.ROWID = :id\r\n           AND ROWNUM <= 1;\r\nEXCEPTION\r\n    WHEN OTHERS\r\n    THEN\r\n        p_ban_debug (\r\n            p_parm   => 'PBCRLISTED-error'\r\n           ,p_text   =>\r\n                   :id\r\n                || '-'\r\n                || :SFRSTCR_LAST_ATTEND\r\n                || '-'\r\n                || :FINALG\r\n                || '-'\r\n                || SQLERRM\r\n           ,p_size   => 250\r\n           ,p_user   => USER\r\n           ,p_htp    => 'N'\r\n           ,p_dbms   => 'N'\r\n           ,p_clob   => NULL\r\n           ,p_mail   => NULL);\r\n        raise_application_error (-20010, '@USERMESSAGE: Invalid Grade code');\r\nEND;",
   "codeDelete": null,
   "virtualDomainRoles": [
      {
         "allowDelete": false,
         "allowPost": false,
         "allowPut": true,
         "roleName": "ADMIN-GPBADMN",
         "allowGet": true
      },
      {
         "allowDelete": false,
         "allowPost": false,
         "allowPut": true,
         "roleName": "FACULTY",
         "allowGet": true
      }
   ],
   "codeGet": "  SELECT ROWIDTOCHAR (x.ROWID) \"id\",\r\n       'https://medley.isc-seo.upenn.edu/fastPdfServiceProdDaemon/jsp/fast.do?webService=qw&k='\r\n         || penn_id\r\n         || photo_row_id                                        Pic_url\r\n        ,CL.STUDENT_NAME\r\n        ,CL.SPRIDEN_ID                                          STID\r\n        ,CL.STVRSTS_DESC                                        REGISTRATION_STATUS\r\n        ,CL.LEVEL_DESC                                          LEVELD\r\n        ,CL.SFRSTCR_CREDIT_HR                                   Credit_Hours\r\n        ,CL.SFRSTCR_GRDE_CODE                                   FINALG\r\n        ,CL.CLASS_DESC                                          CLASSD\r\n        ,CL.CONFID_IND                                          CONFIDENTIAL_INDICATOR\r\n        ,CL.SFRSTCR_CRN                                         CRN\r\n        ,CL.DEAD_IND                                            DEAD_INDICATOR\r\n        ,CL.GOREMAL_EMAIL_ADDRESS                               EMAIL\r\n        ,CL.SIBINST_PIDM\r\n        ,CL.GRADE_DETAIL\r\n        ,CL.SFRSTCR_GRDE_CODE_MID\r\n        ,CL.IS_OPEN_LEARNING_COURSE\r\n        ,CL.SFRSTCR_LEVL_CODE\r\n        ,CL.LEVEL_DESC_UPPER\r\n        ,CL.SFRAREG_COMPLETION_DATE\r\n        ,CL.SFRAREG_START_DATE\r\n        ,CL.SFRSTCR_REG_SEQ\r\n        ,CL.SFRSTCR_RSTS_CODE\r\n        ,CL.STUDENT_NAME_UPPER\r\n        ,CL.SFRSTCR_PIDM\r\n        ,CL.SFRSTCR_TERM_CODE\r\n        ,CL.SFRSTCR_VERSION\r\n        ,CASE :crn WHEN CL.SFRSTCR_CRN THEN 'N' ELSE 'Y' END    isXlisted\r\n        ,X.SFRSTCR_LAST_ATTEND                                  SFRSTCR_LAST_ATTEND\r\n        ,(SELECT    ' <select name=\"singleSelect\" id=\"singleSelect\" onchange=setgrade(this) >  <option value=\"\" '\r\n                 || CASE\r\n                        WHEN CL.SFRSTCR_GRDE_CODE IS NULL THEN ' selected '\r\n                        ELSE ' '\r\n                    END\r\n                 || ' >Please select </option>'\r\n                 || LISTAGG (\r\n                           '<option value=\"'\r\n                        || SHRGRDE_CODE\r\n                        || '\" '\r\n                        || CASE\r\n                               WHEN SHRGRDE_CODE = CL.SFRSTCR_GRDE_CODE\r\n                               THEN\r\n                                   ' selected '\r\n                               ELSE\r\n                                   ' '\r\n                           END\r\n                        || '>'\r\n                        || SHRGRDE_CODE\r\n                        || '</option>'\r\n                       ,' ')\r\n                    WITHIN GROUP (ORDER BY\r\n                                      G.SHRGRDE_NUMERIC_VALUE DESC\r\n                                     ,G.SHRGRDE_CODE ASC)\r\n                 || '</select>'\r\n            FROM SVQ_GRADE_COURSE_WEBMODE G, SSBSECT\r\n           WHERE     G.SCRGMOD_CRSE_NUMB = ssbsect_crse_numb\r\n                 AND G.SCRGMOD_SUBJ_CODE = ssbsect_subj_code\r\n                 AND G.SHRGRDE_LEVL_CODE = CL.sfrstcr_levl_code\r\n                 AND G.STVTERM_CODE = CL.SFRSTCR_TERM_CODE\r\n                 AND G.SCRGMOD_GMOD_CODE = x.sfrstcr_gmod_code\r\n                 AND SSBSECT_TERM_CODE = CL.SFRSTCR_TERM_CODE\r\n                 AND SSBSECT_CRN = CL.SFRSTCR_CRN)              SELECTLIST\r\n    FROM SVQ_CL_FACULTY_CLASSLIST CL, UPENN.UP_S_PHOTO, sfrstcr x\r\n   WHERE     penn_id(+) = CL.SPRIDEN_ID\r\n         AND (   CL.SFRSTCR_CRN IN\r\n                     (SELECT SSRXLST_CRN\r\n                        FROM SSRXLST a\r\n                       WHERE     a.ssrxlst_term_code = :termcode\r\n                             AND a.SSRXLST_XLST_GROUP =\r\n                                 (SELECT b.SSRXLST_XLST_GROUP\r\n                                    FROM SSRXLST b\r\n                                   WHERE     b.ssrxlst_term_code =\r\n                                             a.ssrxlst_term_code\r\n                                         AND b.SSRXLST_CRN = :crn))\r\n              OR CL.SFRSTCR_CRN = :crn)\r\n         AND CL.SFRSTCR_TERM_CODE = :termcode\r\n         AND CL.SIBINST_PIDM = :facultypidm\r\n         AND x.SFRSTCR_TERM_CODE = CL.SFRSTCR_TERM_CODE\r\n         AND x.SFRSTCR_PIDM = CL.SFRSTCR_PIDM\r\n         AND x.SFRSTCR_CRN = CL.SFRSTCR_CRN\r\nORDER BY CL.SFRSTCR_TERM_CODE\r\n        ,CASE :crn WHEN CL.SFRSTCR_CRN THEN 1 ELSE 2 END\r\n        ,CL.SFRSTCR_CRN",
   "typeOfCode": "S",
   "fileTimestamp": null,
   "serviceName": "UP_S_CLASS_LIST",
   "codePost": null,
   "developerSecurity": []
}